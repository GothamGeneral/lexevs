<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL MAP 2.0//EN" 
	"http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap namespace="VSProperty">

<!--	<resultMap id="multiAttribResult" class="string">-->
<!--		<discriminator javaType="string" column="attributeType">-->
<!--			<subMap value="source" resultMap="sourceResult" />-->
<!--			<subMap value="qualifier" resultMap="qualifierResult" />-->
<!--			<subMap value="usageContext" resultMap="usageContextResult"/>-->
<!--		</discriminator>-->
<!--	</resultMap>-->
	
	<resultMap id="usageContextResult" class="string">
		<result property="java.lang.String" column="usageContextAttributeId" />
	</resultMap>
	
	<resultMap id="sourceResult" class="org.LexGrid.commonTypes.Source">
		<result property="content" column="sourceAttributeId"/>
		<result property="subRef" column="sourceSubRef" />
		<result property="role" column="sourceRole" />
	</resultMap>
	
	<resultMap id="qualifierResult" class="org.LexGrid.commonTypes.PropertyQualifier">
		<result property="propertyQualifierName" column="qualifierAttributeId" />
		<result property="propertyQualifierType" column="qualifierAttributeType" />
		<result property="value.content" column="qualifierAttributeValue" />
	</resultMap>
	
<!--	<select id="getPropertyMultiAttribById" -->
<!--		parameterClass="org.lexevs.dao.database.ibatis.parameter.PrefixedParameterTuple"-->
<!--		resultMap="Property.multiAttribResult">-->
<!--		SELECT -->
<!--			attributeType,-->
<!--			attributeValue,-->
<!--			subRef,-->
<!--			role-->
<!--		FROM -->
<!--			$prefix$propertyMultiAttrib-->
<!--		WHERE-->
<!--			propertyGuid = #param1#	-->
<!--		AND-->
<!--			attributeType = #param2#	-->
<!--	</select>-->

	<insert id="insertPropertyMultiAttrib" parameterClass="org.lexevs.dao.database.ibatis.property.parameter.InsertPropertyMultiAttribBean">
		INSERT INTO vsPropertyMultiAttrib (
			vsPropMultiAttribGuid,
			vsPropertyGuid,
			attributeType,
			attributeId,
			attributeValue,
			subRef,
			role,
			entryStateGuid
		) VALUES (
			#uid#,
			#propertyUId#,
			#attributeType#,
			#attributeId#,
			#attributeValue#,
			#subRef#,
			#role#,
			#entryStateUId#
		)
	</insert>
	
<!--	<delete id="deletePropertyMultiAttrib" parameterClass="org.lexevs.dao.database.ibatis.property.parameter.InsertPropertyMultiAttribBean">-->
<!--		DELETE FROM-->
<!--			vsPropertyMultiAttrib-->
<!--		WHERE-->
<!--			referenceType = #param1#-->
<!--		AND -->
<!--			referenceGuid -->
<!--		IN	(-->
<!--			SELECT -->
<!--				vsdEntryGuid-->
<!--			FROM-->
<!--				vsdEntry-->
<!--			WHERE-->
<!--				valueSetDefGuid = #param2#-->
<!--			)-->
<!--	</delete>-->

</sqlMap>